<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebAR Example with Model Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer@latest"></script>
    <style>
        model-viewer {

            --model-viewer-auto-rotate-delay: 3s; /* Delays auto-rotation */
            --model-viewer-camera-orbit: 90deg 90deg 1.5m; /* Adjust the initial camera angle */
            --model-viewer-max-camera-orbit: auto auto 10m; /* Max camera orbit for user interaction */
            --model-viewer-field-of-view: 45deg; /* Field of view */
        }
        button {
            position: absolute; /* Position button over model-viewer */
            z-index: 1; /* Ensure button is clickable */
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <button id="toggle-ar">Disable AR Mode</button> <!-- Initially AR is enabled -->
    <model-viewer 
      id="model"
      src="https://petersoon92.github.io/WebAR/Petynka_AR_Export.glb"
      ar
      ar-modes="webxr scene-viewer quick-look"
      environment-image="https://petersoon92.github.io/WebAR/industrial_sunset_puresky_4k.hdr"
      shadow-intensity="1"
      shadow-softness="0.0"
      camera-controls
      auto-rotate
      background-color="#ffffff">
    </model-viewer>
    <script>
      document.getElementById('toggle-ar').addEventListener('click', function() {
        const modelViewer = document.getElementById('model');
        
        // Check if AR is currently enabled
        if (modelViewer.hasAttribute('ar')) {
          // AR is enabled, so remove the attribute to disable AR
          modelViewer.removeAttribute('ar');
          this.textContent = 'Enable AR Mode'; // Update button text
        } else {
          // AR is disabled, so add the attribute to enable AR
          modelViewer.setAttribute('ar', '');
          this.textContent = 'Disable AR Mode'; // Update button text
        }
      });
    </script>
</body>
</html>